<div class="text-center" *ngIf="isLogged; else loggedOut">
    <h2>Ya has iniciado sesión</h2>
</div>
<ng-template #loggedOut>
    <head>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
        <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600&display=swap" rel="stylesheet">
    </head>
    <body>
        <div class="login-wrapper">
            <div class="login-card">
                <div class="logo-circle">
                    <img src="/assets/img/Cibertec_logo_menu.png" alt="Cibertec Logo" class="logo">
                </div>
                <h2 class="text-center">Bienvenido</h2>
                <form #f="ngForm" (ngSubmit)="onLogin()" novalidate>
                    <div class="form-group">
                        <label for="login">Usuario</label>
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text"><i class="fas fa-user"></i></span>
                            </div>
                            <input type="text" name="login" id="login" class="form-control"
                                [(ngModel)]="loginUsuario.login" required placeholder="Usuario"
                                (input)="checkInputValidity()">
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="password">Contraseña</label>
                        <div class="input-group">
                            <div class="input-group-prepend">
                                <span class="input-group-text"><i class="fas fa-lock"></i></span>
                            </div>
                            <input [type]="showPassword ? 'text' : 'password'" name="password" id="password"
                                class="form-control" [(ngModel)]="loginUsuario.password" required
                                placeholder="Contraseña" (input)="checkInputValidity()" />
                            <div class="input-group-append">
                                <button type="button" class="btn btn-toggle-password"
                                    (click)="togglePasswordVisibility()">
                                    <i class="fas" [ngClass]="showPassword ? 'fa-eye-slash' : 'fa-eye'"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <button class="btn btn-primary" [disabled]="!isInputValid || isLoading">
                            <span *ngIf="!isLoading">INGRESAR</span>
                            <span *ngIf="isLoading">
                                <i class="fas fa-spinner fa-spin"></i> Cargando...
                            </span>
                        </button>
                    </div>
                </form>
            </div>
        </div>
          
      <!-- Alerta flotante -->
<div *ngIf="showAlert" class="alert-float">
    {{ alertMessage }}
</div>
<div *ngIf="showAlert" class="alert-float">
    <p>{{ alertMessage }}</p>
    <p *ngIf="failedAttempts >= 3">Tiempo restante: {{ formattedTime }}</p>
  </div>

    </body>
</ng-template>
